<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
  <h1>Upload Audio Here</h1>
  <form id="audioUpload">
    <input type="file" name="file" accept="audio/*" required/>
    <button type="submit">Transcribe</button>
  </form>
  <p id="transcript">Transcript shows here.</p>
</body>
<script>
  const audioUpload = document.getElementById("audioUpload");
  audioUpload.addEventListener("submit", async (a) => {
    a.preventDefault();
    const audioData = new FormData(audioUpload);
    console.log("Printing form data:");
    for(let [key, value] of audioData.entries()){
      console.log(key, value);
    }
    const res = await fetch("https://audio-file-transcriber-python.onrender.com/transcribe", {
      method: "POST",
      body: audioData
    });
    const trnscrData = await res.json();
    document.getElementById("transcript").textContent = trnscrData.text || "Error.";
  });
</script>
</html>
